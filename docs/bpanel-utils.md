---
id: bpanel-utils
title: bPanel Utils
sidebar_label: bPanel Utils
---

bpanel-utils is a separate npm module that plugin developers can use to solve commonly encountered errors. This allows for some standardization around certain operations. Developers that feel they have a utility that can help other plugin devs should also be encouraged to extend this utility library.

Install locally to your plugin with:

```bash
npm install --save-dev '@bpanel/bpanel-utils'
```

and then import into your project files as needed.

<AUTOGENERATED_TABLE_OF_CONTENTS>

### `clients`
`bpanelClient` and `bwalletClient` are simple wrappers around the [bclient](https://www.npmjs.com/package/bclient) module for network communications with the bcoin api. They simply route requests meant for your bcoin node through the appropriate router on your app server by prefixing with the expected route.

You can read more about the bcoin API and available methods [here](http://bcoin.io/api-docs/index.html#introduction).

#### `bpanelClient`
```javascript

import { bpanelClient } from '@bpanel/bpanel-utils';
const client = bpanelClient();

(async() {
  const info = await client.getInfo();
  console.log(info);
})()

```

#### `bwalletClient`

```javascript

import { bwalletClient } from '@bpanel/bpanel-utils';
const client = bwalletClient();

(async() {
  const id = 'primary'
  const accounts = await client.getAccounts(id);
  console.log(accounts);
})()

```

### `chain`
Helper functions for working with the blockchain.

#### `getBlock`
Does a request to the node for the block information. Accepts one argument of either a block hash or height to query.

Returns a promise.

#### `calcProgress`
Based on a chain start time (time of the genesis block) and the current chain tip time, will calculate the progress of the blockchain sync.

Returns an integer.

#### `getBlocksInRange`
Return n number of blocks within a specified range. Accepts three arguments: start, end, and step.

if start is larger than end, it steps backwards, otherwise steps forward. Does synchronous calls to the node for each block so it won't return until all calls have returned.

Returns an array of blocks.

### `helpers`
#### `now()`
Returns the current UTC time in seconds.
